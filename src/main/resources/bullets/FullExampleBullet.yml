# ===== 基本属性 =====
model_type: "item"      # 子弹类型: "item"(物品), "block"(方块), "arrow"(箭矢)
item: "nether_star"     # 当model_type为"item"时使用的物品材质
block: "diamond_block"  # 当model_type为"block"时使用的方块材质
particle: "flame"       # 基础粒子效果 (可选值见文末粒子列表)
damage: 2.0             # 子弹基础伤害
ignore_armor: true      # 是否无视护甲
penetration: 3          # 穿透值: 1=不穿透, 2=穿透1个目标, 以此类推
cooldown: 1.5           # 射击冷却时间(秒)
max-range: 120.0        # 子弹最大射程
bounce_limit: 5         # 最大弹射次数(配合physics.bounce=true)

# ===== 爆头系统 =====
headshot_enabled: true        # 是否启用爆头机制
headshot_multiplier: 2.5      # 爆头伤害倍率

# ===== 射击音效 =====
shoot_sound:
  enabled: true               # 是否启用射击音效
  sound: "ENTITY_BLAZE_SHOOT" # 射击音效 (可用音效见文末音效列表)
  volume: 1.2                 # 音效音量 (0.0-2.0)
  pitch: 1.0                  # 音效音调 (0.5-2.0, 值越大音调越高)

# ===== 爆炸效果 =====
explosion:
  enabled: true                   # 是否启用爆炸
  radius: 4.0                     # 爆炸半径
  damage: 10                      # 爆炸伤害
  particle: "explosion_large"     # 爆炸粒子
  sound: "ENTITY_GENERIC_EXPLODE" # 爆炸音效
  sound_volume: 25.5              # 爆炸音效音量
  sound_pitch: 0.8                # 爆炸音效音调
  particle_count: 30              # 爆炸粒子数量
  particle_spread: 0.8            # 爆炸粒子扩散范围

# ===== 物理系统 =====
physics:
  gravity: 0.08               # 重力值 (0=无重力)
  knockback: 2.0              # 击退力度
  bounce: true                # 是否弹射

# ===== 高级粒子效果 =====
particle_preset:
  type: "spiral"              # 预设类型: "spiral"(螺旋), "trail"(轨迹)
  particle: "soul_fire_flame" # 粒子类型
  radius: 1.4                 # 螺旋半径
  count: 3                    # 每圈粒子数量
  rotate_speed: 0.5           # 旋转速度
  interval: 0.3               # trail类型的间隔
  density: 10                 # 密度(仅spiral类型)

# ===== 命令系统 =====
# 射击时执行命令 (当玩家射击时执行)
on_shoot:
  commands:
#    - "server:cmi titlemsg %player_name% %player_name%发射了完美子弹"
    - "server:playsound minecraft:entity.experience_orb.pickup player @a %exact_x% %exact_y% %exact_z% 1 2"

# 飞行时执行命令 (子弹飞行过程中执行)
on_fly:
  commands:
    # 基本命令格式
    - "server:particle minecraft:end_rod %exact_x% %exact_y% %exact_z% 0 0 0 0.05 5 force"

    # 高级命令格式(带间隔和最大执行次数)
    - cmd: "server:particle minecraft:soul %exact_x% %exact_y% %exact_z% 0.2 0.2 0.2 0.01 10 force"
      interval: 5              # 每隔5tick执行一次
      max: 10                  # 最多执行10次

#    - cmd: "server:cmi sound block.amethyst_block.break %player_name%"
#      interval: 10             # 每隔10tick执行一次
#      max: 5                   # 最多执行5次

#    - cmd: "server:cmi actionbarmsg %player_name% &b%player_name%的子弹在飞行~"
#      interval: 10             # 每隔10tick执行一次
#      max: 5                   # 最多执行5次

# 落地时执行命令 (子弹命中方块时执行)
on_land:
  commands:
    - "server:particle minecraft:explosion %exact_x% %exact_y% %exact_z% 0 0 0 1 1 force"
    - "server:playsound minecraft:entity.generic.explode ambient @a %exact_x% %exact_y% %exact_z% 1.0 1.0"
#    - "op:cmi titlemsg %player_name% §c子弹命中地面!"

# 命中时执行命令 (子弹命中实体时执行)
on_hit:
  commands:
    - "server:particle minecraft:damage_indicator %target_x% %target_eye_y% %target_z% 0.3 0.3 0.3 0.2 20 force"
    - "server:playsound minecraft:entity.player.attack.crit ambient @a %target_x% %target_y% %target_z% 1.5 1.0"
    - "server:effect give %target_name% minecraft:glowing 3 1 true"
#    - "server:cmi titlemsg %player_name% §e命中%target_name%!"



# ===============================
# 参考资料
# ===============================
#
# 【粒子类型】常用选项:
# - flame: 火焰粒子
# - soul_fire_flame: 灵魂火焰
# - smoke: 烟雾
# - large_smoke: 大烟雾
# - electric_spark: 电火花
# - end_rod: 末地烛粒子
# - dragon_breath: 龙息
# - heart: 爱心
# - portal: 传送门
# - enchant: 附魔台
# - snowflake: 雪花
# - explosion: 爆炸
# - explosion_large: 大爆炸
# - damage_indicator: 伤害指示器
# - sonic_boom: 音爆
# - sculk_soul: 幽匿灵魂
# - glow: 发光粒子
# - firework: 烟花
# - angry_villager: 愤怒村民
# - happy_villager: 开心村民
# - crit: 暴击粒子
# - note: 音符
# - lava: 熔岩
# - water_splash: 水花
#
# 【音效类型】常用选项:
# - ENTITY_ARROW_SHOOT: 射箭声
# - ENTITY_BLAZE_SHOOT: 烈焰人射击
# - BLOCK_AMETHYST_BLOCK_CHIME: 紫水晶共鸣
# - ENTITY_GENERIC_EXPLODE: 爆炸声
# - ENTITY_LIGHTNING_BOLT_IMPACT: 雷击声
# - ENTITY_PLAYER_ATTACK_CRIT: 暴击声
# - ENTITY_DRAGON_FIREBALL_EXPLODE: 龙火球爆炸
# - ENTITY_ENDERMAN_TELEPORT: 末影人传送
# - ENTITY_PHANTOM_BITE: 幻翼咬人
# - ENTITY_WITHER_SHOOT: 凋灵射击
# - BLOCK_ENCHANTMENT_TABLE_USE: 附魔台使用
# - BLOCK_BELL_USE: 钟声
# - BLOCK_BEACON_ACTIVATE: 信标激活
# - BLOCK_NOTE_BLOCK_PLING: 音符盒清脆声
# - ENTITY_PLAYER_LEVELUP: 升级声
# - ENTITY_WARDEN_SONIC_BOOM: 监守者音爆
#
# 【命令前缀】可选项:
# - player: 以玩家身份执行命令
# - server: 以控制台身份执行命令
# - op: 临时给予玩家OP权限执行命令
#
# 【命令变量】可用变量:
# - %player_name%: 射击玩家名称
# - %exact_x%, %exact_y%, %exact_z%: 子弹精确位置坐标
# - %target_name%: 被击中目标名称
# - %target_x%, %target_y%, %target_z%: 被击中目标位置
# - %target_eye_y%: 被击中目标眼睛高度